"use strict";(()=>{var l=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;initializedIds=new Set;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(e=>{let t=e.getAttribute(this.DATA_ATTR);if(!t){console.error("No ID found for dialog component",e);return}if(this.initializedIds.has(t)){console.warn(`Duplicate dialog ID "${t}" found. Skipping initialization.`,e);return}this.initializedIds.add(t);let n=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${t}"]`),o=e.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${t}"]`);n.forEach(a=>{a.addEventListener("click",()=>{this.openDialog(e)})}),o.forEach(a=>{a.addEventListener("click",s=>{s.stopPropagation(),this.closeDialog(e)})}),e.addEventListener("close",a=>{this.closeDialog(e,!0)})})}openDialog(i){i.showModal();let e=new CustomEvent("dialogOpen",{detail:{dialogId:i.getAttribute(this.DATA_ATTR)}});i.dispatchEvent(e)}closeDialog(i,e=!1){e||i.close();let t=new CustomEvent("dialogClose",{detail:{dialogId:i.getAttribute(this.DATA_ATTR)}});i.dispatchEvent(t)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",t=>{let n=t.target;if(!(n instanceof HTMLDialogElement))return;let o=n.getBoundingClientRect();o.top<=t.clientY&&t.clientY<=o.top+o.height&&o.left<=t.clientX&&t.clientX<=o.left+o.width&&t.target===n&&this.closeDialog(n)})})}},r=l;})();
