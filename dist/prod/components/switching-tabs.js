"use strict";(()=>{var s=class{component;tabs;currentTabIndex=0;intervalId=null;autoplayTimer;intersectionObserver;isInView=!1;AUTOPLAY_TIMER_CSS_VAR="--autoplay-timer";OUT_OF_VIEW_CLASS="is-out-of-view";TAB_CLOSING_CLASS="is-closing";constructor(t){this.component=t,this.tabs=Array.from(t.querySelectorAll("details"));let e=getComputedStyle(t).getPropertyValue(this.AUTOPLAY_TIMER_CSS_VAR).trim();if(e.endsWith("ms")?this.autoplayTimer=parseFloat(e):this.autoplayTimer=parseFloat(e)*1e3,!t||this.tabs.length===0){console.warn("AutoRotatingTabs: No valid component or tabs found.");return}this.init()}init(){this.openTabAtCurrentIndex(),this.setupEventListeners(),this.setupIntersectionObserver()}setupEventListeners(){this.tabs.forEach((t,e)=>{t.querySelector("summary").addEventListener("click",r=>{r.preventDefault(),r.stopImmediatePropagation(),!(e===this.currentTabIndex||t.open)&&(this.currentTabIndex=e,this.openTabAtCurrentIndex())})})}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(e=>{e.target===this.component&&(this.isInView=e.isIntersecting,this.isInView?this.startAutoRotation():this.pauseAutoRotation())})},{threshold:.1}),this.intersectionObserver.observe(this.component)}openTabAtCurrentIndex(){let t=this.tabs[this.currentTabIndex],e=t.querySelector("summary + div");t.open=!0,this.startAutoRotation();let i=e.scrollHeight;gsap.fromTo(e,{height:0},{height:i,duration:.3,onComplete:()=>{gsap.set(e,{height:"auto"})}}),this.closeOtherTabs()}closeOtherTabs(){this.tabs.forEach((t,e)=>{if(e!==this.currentTabIndex&&t.open){t.classList.add(this.TAB_CLOSING_CLASS);let i=t.querySelector("summary + div");gsap.fromTo(i,{height:i.scrollHeight},{height:0,duration:.3,onComplete:()=>{t.open=!1,t.classList.remove(this.TAB_CLOSING_CLASS)}})}})}startAutoRotation(){this.isInView&&(this.pauseAutoRotation(),this.component.classList.remove(this.OUT_OF_VIEW_CLASS),this.intervalId=window.setInterval(()=>{this.rotateToNext()},this.autoplayTimer))}pauseAutoRotation(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.component.classList.add(this.OUT_OF_VIEW_CLASS)}rotateToNext(){this.currentTabIndex=(this.currentTabIndex+1)%this.tabs.length,this.openTabAtCurrentIndex()}destroy(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.intersectionObserver&&this.intersectionObserver.disconnect()}};function o(){document.querySelectorAll('[data-el="switching-tabs-component"]').forEach(t=>{new s(t)})}window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{o()});})();
