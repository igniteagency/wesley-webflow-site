"use strict";(()=>{var r=class{component;tabs;currentTabIndex=0;intervalId=null;autoplayTimer;intersectionObserver;isInView=!1;mediaQuery;abortController;AUTOPLAY_TIMER_CSS_VAR="--autoplay-timer";OUT_OF_VIEW_CLASS="is-out-of-view";TAB_CLOSING_CLASS="is-closing";constructor(t){this.abortController=new AbortController,this.component=t,this.mediaQuery=window.matchMedia("(min-width: 992px)"),this.tabs=Array.from(t.querySelectorAll("details"));let e=getComputedStyle(t).getPropertyValue(this.AUTOPLAY_TIMER_CSS_VAR).trim();if(e.endsWith("ms")?this.autoplayTimer=parseFloat(e):this.autoplayTimer=parseFloat(e)*1e3,this.autoplayTimer||(this.autoplayTimer=6e3),!t||this.tabs.length===0){console.warn("AutoRotatingTabs: No valid component or tabs found.");return}this.init()}init(){this.setupEventListeners(),this.openTabAtCurrentIndex(),this.mediaQuery.matches&&this.setupIntersectionObserver(),this.mediaQuery.addEventListener("change",t=>{t.matches?this.setupIntersectionObserver():(this.pauseAutoRotation(),this.intersectionObserver&&this.intersectionObserver.disconnect())},{signal:this.abortController.signal})}setupEventListeners(){this.tabs.forEach((t,e)=>{t.querySelector("summary").addEventListener("click",s=>{s.preventDefault(),!(e===this.currentTabIndex||t.open)&&(this.currentTabIndex=e,this.openTabAtCurrentIndex())},{signal:this.abortController.signal})})}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(e=>{e.target===this.component&&(this.isInView=e.isIntersecting,this.isInView?this.startAutoRotation():this.pauseAutoRotation())})},{threshold:.1}),this.intersectionObserver.observe(this.component)}openTabAtCurrentIndex(){let t=this.tabs[this.currentTabIndex],e=t.querySelector("summary + div"),i=t.open;t.open=!0,this.startAutoRotation(),this.closeOtherTabs();let s=e.scrollHeight;i||gsap.set(e,{height:0}),gsap.to(e,{height:s,duration:.3,overwrite:!0,onComplete:()=>{gsap.set(e,{height:"auto"})}})}closeOtherTabs(){this.tabs.forEach((t,e)=>{if(e!==this.currentTabIndex&&t.open){t.classList.add(this.TAB_CLOSING_CLASS);let i=t.querySelector("summary + div");(!i.style.height||i.style.height==="auto")&&gsap.set(i,{height:i.scrollHeight}),gsap.to(i,{height:0,duration:.3,overwrite:!0,onComplete:()=>{t.open=!1,t.classList.remove(this.TAB_CLOSING_CLASS),gsap.set(i,{clearProps:"height"})}})}})}startAutoRotation(){this.mediaQuery.matches&&this.isInView&&(this.pauseAutoRotation(),this.component.classList.remove(this.OUT_OF_VIEW_CLASS),this.intervalId=window.setInterval(()=>{this.rotateToNext()},this.autoplayTimer))}pauseAutoRotation(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.component.classList.add(this.OUT_OF_VIEW_CLASS)}rotateToNext(){this.currentTabIndex=(this.currentTabIndex+1)%this.tabs.length,this.openTabAtCurrentIndex()}destroy(){this.abortController.abort(),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.intersectionObserver&&this.intersectionObserver.disconnect()}};function o(){document.querySelectorAll('[data-el="switching-tabs-component"]').forEach(t=>{new r(t)})}window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{o()});})();
